{"version":3,"file":"modform.min.js","sources":["../src/modform.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript helper function for mod_exeweb module.\n *\n * @module      mod_exeweb/resize\n * @copyright   2023 3&Punt\n * @author      Juan Carrera <juan@treipunt.com>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-disable no-console */\n\nimport Log from 'core/log';\nimport {get_string as getString} from 'core/str';\nimport Prefetch from 'core/prefetch';\n\nconst SELECTORS = {\n    ORIGIN: '#id_exeorigin',\n    SUBMITBUTTON: '#id_submitbutton',\n    SUBMITBUTTON2: '#id_submitbutton2'\n};\n\n\nconst initialize = () => {\n    Prefetch.prefetchStrings('mod_exeweb', ['exeweb:editonlineanddisplay', 'exeweb:editonlineandreturntocourse']);\n    Prefetch.prefetchStrings('core', ['savechangesanddisplay', 'savechangesandreturntocourse']);\n\n\n    // Add listener to the click event that will load the form.\n    document.querySelector(SELECTORS.ORIGIN).addEventListener('change', (e) => {\n        const buttonDisplay = document.querySelector(SELECTORS.SUBMITBUTTON);\n        const buttonCourse = document.querySelector(SELECTORS.SUBMITBUTTON2);\n        Log.debug(buttonCourse);\n        if (e.target.value == 'exeonline') {\n            getString('exeweb:editonlineanddisplay', 'mod_exeweb')\n                .then((label) => {\n                    buttonDisplay.value = label;\n                    return;\n                })\n                .catch();\n            getString('exeweb:editonlineandreturntocourse', 'mod_exeweb')\n                .then((label) => {\n                    Log.debug('Label buttton course: ', label);\n                    buttonCourse.value = label;\n                    return;\n                })\n                .catch();\n\n        } else {\n            getString('savechangesanddisplay', 'core')\n                .then((label) => {\n                    buttonDisplay.value = label;\n                    return;\n                })\n                .catch();\n\n            getString('savechangesandreturntocourse', 'core')\n                .then((label) => {\n                    buttonCourse.value = label;\n                    return;\n                })\n                .catch();\n\n        }\n    });\n};\n\n\nexport const init = () => {\n    Log.debug('we have been started!');\n    initialize();\n};\n"],"names":["SELECTORS","debug","prefetchStrings","document","querySelector","addEventListener","e","buttonDisplay","buttonCourse","target","value","then","label","catch"],"mappings":";;;;;;;;sKA8BMA,iBACM,gBADNA,uBAEY,mBAFZA,wBAGa,kCAiDC,kBACZC,MAAM,2CA7CDC,gBAAgB,aAAc,CAAC,8BAA+B,yDAC9DA,gBAAgB,OAAQ,CAAC,wBAAyB,iCAI3DC,SAASC,cAAcJ,kBAAkBK,iBAAiB,UAAWC,UAC3DC,cAAgBJ,SAASC,cAAcJ,wBACvCQ,aAAeL,SAASC,cAAcJ,sCACxCC,MAAMO,cACY,aAAlBF,EAAEG,OAAOC,2BACC,8BAA+B,cACpCC,MAAMC,QACHL,cAAcG,MAAQE,SAGzBC,4BACK,qCAAsC,cAC3CF,MAAMC,qBACCX,MAAM,yBAA0BW,OACpCJ,aAAaE,MAAQE,SAGxBC,8BAGK,wBAAyB,QAC9BF,MAAMC,QACHL,cAAcG,MAAQE,SAGzBC,4BAEK,+BAAgC,QACrCF,MAAMC,QACHJ,aAAaE,MAAQE,SAGxBC"}