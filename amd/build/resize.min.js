define("mod_exeweb/resize",["exports","core/log"],(function(_exports,_log){var obj;
/**
   * Javascript helper function for mod_exeweb module.
   *
   * @module      mod_exeweb/resize
   * @copyright   2023 3&Punt
   * @author      Juan Carrera <juan@treipunt.com>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.exewebResize=_exports.exewebIframeOnload=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};const exewebResize=function(){let iFrame=document.querySelector("#exewebobject");iFrame.contentWindow.document.body&&(iFrame.style.width="100%",iFrame.style.height=iFrame.contentWindow.document.body.scrollHeight+50+"px",_log.default.debug("iFrame height: "+(iFrame.contentWindow.document.body.scrollHeight+50)+"px"))};_exports.exewebResize=exewebResize;const exewebIframeOnload=function(iFrame){_log.default.debug("Function exewebIframeOnload."),exewebResize();new MutationObserver(exewebResize).observe(iFrame.contentWindow.document.body,{attributes:!0,childList:!0,subtree:!0})};_exports.exewebIframeOnload=exewebIframeOnload;_exports.init=()=>{window.exewebResize=exewebResize,window.exewebIframeOnload=exewebIframeOnload;let page=document.getElementById("exewebpage"),iframe=document.getElementById("exewebobject");if(console.log(iframe),"complete"===iframe.contentWindow.document.readyState)_log.default.debug("Iframe already loaded."),exewebIframeOnload(iframe),iframe.contentWindow.addEventListener("load",exewebIframeOnload.bind(void 0));else{_log.default.debug("Adding iframe onload listener");const iFrameInterval=setInterval((()=>{console.log("waiting for iframe"),"complete"===iframe.contentWindow.document.readyState&&(_log.default.debug("Adding iframe onload listener"),exewebIframeOnload(iframe),window.clearInterval(iFrameInterval))}),500)}new ResizeObserver(exewebResize).observe(page)}}));

//# sourceMappingURL=resize.min.js.map