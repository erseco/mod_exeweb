{"version":3,"file":"fullscreen.min.js","sources":["../src/fullscreen.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n *\n * @author  2021 3iPunt <https://www.tresipunt.com/>\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n\ndefine([\n        'jquery',\n        'core/str',\n        'core/ajax',\n        'core/templates'\n    ], function($) {\n        \"use strict\";\n        /**\n         * @constructor\n         */\n        function Fullscreen() {\n             $('#toggleFullscreen').on('click', this.toggleFullScreen.bind(this));\n             document.addEventListener('fullscreenchange', this.changeFullScreen, false);\n             document.addEventListener('mozfullscreenchange', this.changeFullScreen, false);\n             document.addEventListener('MSFullscreenChange', this.changeFullScreen, false);\n             document.addEventListener('webkitfullscreenchange', this.changeFullScreen, false);\n        }\n\n        Fullscreen.prototype.changeFullScreen = function(e) {\n            let btnToggle = document.getElementById('toggleFullscreen');\n            let page = document.getElementById('exewebpage');\n            let iframe = document.getElementById('exewebobject');\n            let btnEdit = document.getElementById('editonexe');\n\n            if (page.classList.contains('fullscreen')) {\n                btnToggle.classList.remove('actived');\n                page.classList.remove('fullscreen');\n                iframe.classList.remove('fullscreen');\n                btnEdit.classList.remove('hidden');\n            } else {\n                btnToggle.classList.add('actived');\n                page.classList.add('fullscreen');\n                iframe.classList.add('fullscreen');\n                btnEdit.classList.add('hidden');\n            }\n        };\n\n        Fullscreen.prototype.toggleFullScreen = function(e) {\n\n            if (document.fullscreenElement ||\n                document.webkitFullscreenElement ||\n                document.mozFullScreenElement ||\n                document.msFullscreenElement) {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen();\n                } else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                } else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                } else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            } else {\n                let element = document.querySelector('#exewebpage');\n                if (element.requestFullscreen) {\n                    element.requestFullscreen();\n                } else if (element.mozRequestFullScreen) {\n                    element.mozRequestFullScreen();\n                } else if (element.webkitRequestFullscreen) {\n                    element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n                } else if (element.msRequestFullscreen) {\n                    element.msRequestFullscreen();\n                }\n            }\n\n        };\n\n        /** @type {jQuery} The jQuery node for the region. */\n        Fullscreen.prototype.node = null;\n\n        return {\n            /**\n             * @return {Fullscreen}\n             */\n            init: function() {\n                return new Fullscreen();\n            }\n        };\n    }\n);\n"],"names":["define","$","Fullscreen","on","this","toggleFullScreen","bind","document","addEventListener","changeFullScreen","prototype","e","btnToggle","getElementById","page","iframe","btnEdit","classList","contains","remove","add","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","element","querySelector","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","node","init"],"mappings":";;;;;AAwBAA,+BAAO,CACC,SACA,WACA,YACA,mBACD,SAASC,YAKCC,aACJD,EAAE,qBAAqBE,GAAG,QAASC,KAAKC,iBAAiBC,KAAKF,OAC9DG,SAASC,iBAAiB,mBAAoBJ,KAAKK,kBAAkB,GACrEF,SAASC,iBAAiB,sBAAuBJ,KAAKK,kBAAkB,GACxEF,SAASC,iBAAiB,qBAAsBJ,KAAKK,kBAAkB,GACvEF,SAASC,iBAAiB,yBAA0BJ,KAAKK,kBAAkB,UAGhFP,WAAWQ,UAAUD,iBAAmB,SAASE,OACzCC,UAAYL,SAASM,eAAe,oBACpCC,KAAOP,SAASM,eAAe,cAC/BE,OAASR,SAASM,eAAe,gBACjCG,QAAUT,SAASM,eAAe,aAElCC,KAAKG,UAAUC,SAAS,eACxBN,UAAUK,UAAUE,OAAO,WAC3BL,KAAKG,UAAUE,OAAO,cACtBJ,OAAOE,UAAUE,OAAO,cACxBH,QAAQC,UAAUE,OAAO,YAEzBP,UAAUK,UAAUG,IAAI,WACxBN,KAAKG,UAAUG,IAAI,cACnBL,OAAOE,UAAUG,IAAI,cACrBJ,QAAQC,UAAUG,IAAI,YAI9BlB,WAAWQ,UAAUL,iBAAmB,SAASM,MAEzCJ,SAASc,mBACTd,SAASe,yBACTf,SAASgB,sBACThB,SAASiB,oBACLjB,SAASkB,eACTlB,SAASkB,iBACFlB,SAASmB,oBAChBnB,SAASmB,sBACFnB,SAASoB,qBAChBpB,SAASoB,uBACFpB,SAASqB,kBAChBrB,SAASqB,uBAEV,KACCC,QAAUtB,SAASuB,cAAc,eACjCD,QAAQE,kBACRF,QAAQE,oBACDF,QAAQG,qBACfH,QAAQG,uBACDH,QAAQI,wBACfJ,QAAQI,wBAAwBC,QAAQC,sBACjCN,QAAQO,qBACfP,QAAQO,wBAOpBlC,WAAWQ,UAAU2B,KAAO,KAErB,CAIHC,KAAM,kBACK,IAAIpC"}